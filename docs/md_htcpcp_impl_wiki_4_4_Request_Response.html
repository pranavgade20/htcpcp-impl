<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>htcpcp implementation: 4.4-Request\Response</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">htcpcp implementation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">4.4-<a class="el" href="classRequest.html">Request</a>\Response </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><ol type="1">
<li><b><a class="el" href="classRequest.html">Request</a></b></li>
</ol>
<p>We start with listening for incoming requests and then pass them onto the request constructor. The request constructor will parse input from the socket and parse the text as per the HTTP <a class="el" href="classRequest.html">Request</a> <a href="https://datatracker.ietf.org/doc/html/rfc2616">RFC 2616</a>/HTCPCP <a href="https://datatracker.ietf.org/doc/html/rfc2324">RFC 2324</a>. This gives us the headers in a <code>header map</code>(Host, User, Accept, Accept-Language, Content-Type, and Accept-Additions) and additions in <code>additions map</code>(milk-type,syrup-type,alcohol-type,sweetener-type, and spice-type) and the body. All of these are stored as a state variable in the request object.</p>
<hr  />
<ol type="1">
<li><b><a class="el" href="classResponse.html">Response</a></b></li>
</ol>
<p>It should accept a response_code integer and get a response string accordingly. Additionally, it will set headers and send them to the client using sockets.</p>
<p>On creating a new <a class="el" href="classResponse.html">Response</a> object, either of the two constructors is called depending on the parameters. Inside the constructor, <code>getResponseString()</code> is called to set the response string. The <code>getResponseString()</code> function works in a manner such that it returns a <a class="el" href="classResponse.html">Response</a> string from the response code (For instance, "I'm a teapot" from error code 418). Finally, we send the <a class="el" href="classResponse.html">Response</a> using our <code>sendresponse()</code> function, which is then used in the main file. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
